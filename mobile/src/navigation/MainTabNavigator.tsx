import React from 'react'
import { createBottomTabNavigator } from '@react-navigation/bottom-tabs'
import { Platform } from 'react-native'
import Icon from 'react-native-vector-icons/Ionicons'\nimport type { MainTabParamList } from '@/types'\n\n// Tab screens\nimport DashboardScreen from '@/screens/DashboardScreen'\nimport UploadScreen from '@/screens/UploadScreen'\nimport AnalysisScreen from '@/screens/AnalysisScreen'\nimport DocumentsScreen from '@/screens/DocumentsScreen'\nimport ProfileScreen from '@/screens/ProfileScreen'\n\n// Hooks\nimport { usePreferences, useNotifications } from '@/stores'\nimport { Badge } from '@/components/ui/Badge'\n\nconst MainTab = createBottomTabNavigator<MainTabParamList>()\n\nexport default function MainTabNavigator() {\n  const { preferences } = usePreferences()\n  const { unreadCount } = useNotifications()\n\n  return (\n    <MainTab.Navigator\n      initialRouteName=\"Dashboard\"\n      screenOptions={({ route }) => ({\n        tabBarIcon: ({ focused, color, size }) => {\n          let iconName: string\n\n          switch (route.name) {\n            case 'Dashboard':\n              iconName = focused ? 'home' : 'home-outline'\n              break\n            case 'Upload':\n              iconName = focused ? 'cloud-upload' : 'cloud-upload-outline'\n              break\n            case 'Analysis':\n              iconName = focused ? 'analytics' : 'analytics-outline'\n              break\n            case 'Documents':\n              iconName = focused ? 'document-text' : 'document-text-outline'\n              break\n            case 'Profile':\n              iconName = focused ? 'person' : 'person-outline'\n              break\n            default:\n              iconName = 'ellipse-outline'\n          }\n\n          return (\n            <>\n              <Icon name={iconName} size={size} color={color} />\n              {route.name === 'Profile' && unreadCount > 0 && (\n                <Badge \n                  count={unreadCount} \n                  style={{ \n                    position: 'absolute', \n                    top: -2, \n                    right: -8 \n                  }} \n                />\n              )}\n            </>\n          )\n        },\n        tabBarActiveTintColor: preferences.theme === 'dark' ? '#ffffff' : '#007AFF',\n        tabBarInactiveTintColor: preferences.theme === 'dark' ? '#8E8E93' : '#8E8E93',\n        tabBarStyle: {\n          backgroundColor: preferences.theme === 'dark' ? '#1C1C1E' : '#ffffff',\n          borderTopColor: preferences.theme === 'dark' ? '#38383A' : '#E5E5EA',\n          borderTopWidth: 0.5,\n          paddingBottom: Platform.OS === 'ios' ? 20 : 5,\n          paddingTop: 5,\n          height: Platform.OS === 'ios' ? 85 : 60,\n        },\n        tabBarLabelStyle: {\n          fontSize: 12,\n          fontWeight: '500',\n        },\n        headerStyle: {\n          backgroundColor: preferences.theme === 'dark' ? '#1C1C1E' : '#ffffff',\n          shadowColor: 'transparent',\n          elevation: 0,\n        },\n        headerTitleStyle: {\n          fontWeight: '700',\n          fontSize: 20,\n          color: preferences.theme === 'dark' ? '#ffffff' : '#000000',\n        },\n        headerTintColor: preferences.theme === 'dark' ? '#ffffff' : '#000000',\n      })}\n    >\n      <MainTab.Screen \n        name=\"Dashboard\" \n        component={DashboardScreen}\n        options={{\n          title: 'Dashboard',\n          headerTitle: 'Fine Print AI',\n        }}\n      />\n      <MainTab.Screen \n        name=\"Upload\" \n        component={UploadScreen}\n        options={{\n          title: 'Upload',\n          headerTitle: 'Upload Document',\n        }}\n      />\n      <MainTab.Screen \n        name=\"Analysis\" \n        component={AnalysisScreen}\n        options={{\n          title: 'Analysis',\n          headerTitle: 'Analysis Results',\n        }}\n      />\n      <MainTab.Screen \n        name=\"Documents\" \n        component={DocumentsScreen}\n        options={{\n          title: 'Documents',\n          headerTitle: 'My Documents',\n        }}\n      />\n      <MainTab.Screen \n        name=\"Profile\" \n        component={ProfileScreen}\n        options={{\n          title: 'Profile',\n          headerTitle: 'Profile',\n        }}\n      />\n    </MainTab.Navigator>\n  )\n}"